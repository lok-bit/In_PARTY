<style>
    #scannerWindow {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70%; 
        background-color: #ffffff; 
        overflow-y: auto; 
        transition: transform 0.3s ease-out; 
        transform: translateY(100%); 
        z-index:9999;
    }


    #scannerWindow.show {
        display: block;
        transform: translateY(0%);
    }

    #scannerWindow h1 {
        margin: 20px;
    }


    #scannerWindow video {
        width: 100%;
        height: auto;
    }

    #QrcodeWindow {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70%; 
        background-color: #ffffff; 
        overflow-y: auto; 
        transition: transform 0.3s ease-out; 
        transform: translateY(100%); 
        z-index:9999;
    }


    #QrcodeWindow.show {
        display: block;
        transform: translateY(0%);
    }

    #QrcodeWindow h1 {
        margin: 20px;
    }


    #QrcodeWindow video {
        width: 100%;
        height: auto;
    }
</style>


<div id="scannerWindow">
    {%include 'qrcodescan.html' %}
</div>
<div id="QrcodeWindow">
    {%include 'qrcodeGenerated.html' %}
</div>

<script>
    function toggleScannerWindow() {
        var scannerWindow = document.getElementById('scannerWindow');
        scannerWindow.classList.toggle('show');
        qrCodeScan();
    }
    function toggleQrcodeWindow() {
        var qrcodeWindow = document.getElementById('QrcodeWindow');
        qrcodeWindow.classList.toggle('show');
    }

    function removeScannerWindow() {
        var scannerWindow = document.getElementById('scannerWindow');
        fetch(`/check_in?id=${document.getElementById('cam-qr-result').textContent}`)
        .then(response => {
            if (!response.ok) {
                throw new Error('網路出現問題');
            }
            return response.json();
        })
        .then(data => {
            if (data !== null) {
                console.log('qrOK');
            }
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });

        console.log(document.getElementById('cam-qr-result-timestamp').textContent);
        scannerWindow.classList.remove('show');
    }
    function removeQrcodeWindow() {
        var qrcodeWindow = document.getElementById('QrcodeWindow');
        console.log('closse))');
        qrcodeWindow.classList.remove('show');
    }
    window.removeScannerWindow = removeScannerWindow;
</script>